# Тестовое задание на должность Python разработчик.
Необходимо реализовать веб-приложение - административную панель для мобильного новостного клиента.  
1. Каждую сущность (в том числе и пользователей) нужно иметь возможность:
 * Добавлять
 * Просматривать список
 * Редактировать
 * Удалять  
2. Так же реализовать отдельные эндпоинты, или используйте уже существующие, для возможности получения в JSON-формате списков категорий и статей (напр. GET /categories, GET /articles) незалогиненным пользователям (клиентам).  
3. Дизайн, верстка произвольные. Можно использовать готовые фреймворки (bootstrap, material). Сдавать голый HTML нежелательно.
4. Ни одну часть приложения нельзя просматривать незалогиненному пользователю.  
### Требования к реализации.
 * Предпочтительные стеки технологий для бэкенд php, ruby, python. Для фронтенда можете выбрать любой стек.
----------------------------------------------------
# Описание.
В проекте использованы python-3.8 [Django-2.2.13](https://docs.djangoproject.com/en/2.2/)  
Приложение состоит из трех основных приложений:
 * webbapp - тут реализована логика для сущностей:  
   * Главная категория
   * Под категория
   * Статья
 * API - точки входа для получения данных в формате json:
   * Список главных категорий
   * Список под-категорий
   * Список статей
 * Accounts - приложение для управления пользователями.

**Сущность - _главная категория_ была добавленна исходя из соображений наличия поля parent_id в модели category. Она 
хорошо подходит для  структурирования данных по основным разделам.**  

**Для точек входа получения данных в Json формате можно было использовать DRF, но так как по заданию требуется получить только списки по get запросу то  DRF фраймворк посчитал излишним и использовал простые функции с JsonResponse.**  

## Точки входа для получения списка категорий и статей в json формате:
 * /api/v1/articles/
 * /api/v1/main_categories/
 * /api/v1/categories/

## Права авторизации:
 * Не залогиненный пользователь:
   * Залогинится
   * Зарегистрироваться
 * Залогиненные пользователи:
   * Создание
   * Просмотр
   * Редактирование своего профиля 
 * Пользаватели группы moderators:
   * Создание
   * Просмотр
   * Редактирование (пользователя может редактировать только он сам)
   * Удаление ( **есть данное разрешение на удаление пользователя согласно тз** )
* Admin
   * all

 ----------------------------------------------------

# Установка.
В проекте используется билиотека для работы с изображениями Pillow. По этому, в систему надо загрузить дополнительные пакеты:
 * ```$ sudo apt-get install libjpeg-dev zlib1g-dev```

  Так же для тестов используется Selenium. Чтобы использовать Селениум вам нужно установить драйвер для своего браузера, который будет использоваться для тестов.     
  Например, драйвер для Google Chrome можно найти здесь: https://sites.google.com/a/chromium.org/chromedriver/downloads. Скачайте драйвер, подходящий под вашу версию Google Chrome (версию можно посмотреть в меню Настройки -> Справка -> О браузере).  
Ссылки на драйвера для других браузеров есть в документации по установке Selenium: https://selenium-python.readthedocs.io/installation.html.  
Распаковав архив с драйвером вы получите файл, например chromedriver. Поместите его в папку /usr/bin или /usr/local/bin, чтобы он был доступен для прямого запуска из командной строки и сделайте исполняемым командой chmod:

```...$ chmod +x chromedriver```
```...$ sudo mv chromedriver /usr/local/bin/ ```

Далее:
1. Склонируйте проект с GitHub; 
 * git clone [адрес репазитория](https://gitlab.com/nuvorish/article.git) "ваша папка"
2. Зайти в папку
 * ```cd "ваша папка"```
3. Cоздайте виртуальное окружение
 * ```python3 -m virtualenv -p python3 venv```
4. Активируйте его
 * ```. venv/bin/activate```
5. Устанавите окружение
 * ```pip install -r requirements.txt```
6. Проведите Мигрирую БД
 * ```cd source```
 * ```python manage.py migrate```
7. Загрузите дамп
 * source$ ./manage.py loaddata fixtures/auth.json 
 * source$ ./manage.py loaddata fixtures/dump.json
8. Деактивируйте окружение
 * ```deactivate``` 
 ----------------------------------------------------------------------------
# Unit Tests и приемочные тесты.
  Для автоматической прогонки имеющихся в приложении тестов необходимо сначала запустить приложение, 
так же  используйте команды:

 * ```sourse$ ./manage.py test```
 * ```source$ ./manage.py behave```

 




